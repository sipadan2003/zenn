---
title: "Javaã§ã®Method Sigunatureã¨ã¯"
emoji: "ğŸŒŠ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Java"]
published: true
---

# Javaã§ã®Method Signatureã¨ã¯

Java ã«ãŠã‘ã‚‹ Method Signature ã¨ã¯å…·ä½“çš„ã«ä½•ã‚’æŒ‡ã™ã®ã§ã—ã‚‡ã†ã‹ï¼Ÿ

## ä»•æ§˜å·®ã®ç¢ºèª

Java SE 18 Editionã®2ã¤ã®ä»•æ§˜ã‚’è¦‹æ¯”ã¹ã¦ã¿ã¾ã™ã€‚

Java Language Specificationï¼ˆJLSï¼‰ã® [8.4.2 Method Signature](https://docs.oracle.com/javase/specs/jls/se18/html/jls-8.html#jls-8.4.2) ã«ã‚ˆã‚‹ã¨ã€2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã®ã€Œãƒ¡ã‚½ãƒƒãƒ‰åã€ã¨ã€Œå¼•æ•°ã®å‹ã€ãŒåŒã˜ã§ã‚ã‚Œã°ã€ã“ã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒã˜ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚

> Two methods or constructors, M and N, have the same signature if they have the same name, the same type parameters (if any), and, after adapting the formal parameter types of N to the type parameters of M, the same formal parameter types.

ä¸€æ–¹ã€Java Vitual Machine Specification ã® [4.7.9.1. Signatures](https://docs.oracle.com/javase/specs/jvms/se18/html/jvms-4.html#jvms-4.7.9.1) ã§ã¯ã€ã€Œå¼•æ•°ã®å‹ã€ã€ã€Œå¾©å¸°å€¤ã€ãŠã‚ˆã³ã€Œã‚¹ãƒ­ãƒ¼ã™ã‚‹ä¾‹å¤–ã€ã®3ã¤ã§åˆ¤åˆ¥ã™ã‚‹ã¨ã®ã“ã¨ã§ã™ã€‚ãªã‚“ã¨ã€ã€Œãƒ¡ã‚½ãƒƒãƒ‰åã€ã‚’å«ã‚ã¦ã„ã¾ã›ã‚“ã€‚

> A method signature for any method or constructor declaration which is either generic, or has a type variable or parameterized type as the return type or a formal parameter type, or has a type variable in a throws clause, or any combination thereof.

æ„å¤–ã«æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ãŒã©ã®ã‚ˆã†ãªä½œã‚Šã«ãªã£ã¦ã„ã‚‹ã‹ã‚’ç´è§£ã‘ã°ã€æ¡ˆå¤–ã€ã“ã‚Œã‚‰ã®ä»•æ§˜å·®ã«ç´å¾—ãŒã„ãã ã‚ã†ã¨æ€ã„ã¾ã™ã€‚

## æ¤œè¨¼ç”¨ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

ã¾ãšã€å‘¼ã³å‡ºã•ã‚Œã‚‹å´ã®ã‚¯ãƒ©ã‚¹ã®Javaã‚½ãƒ¼ã‚¹ã€‚ `methodA` ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã§ã™ã€‚

```Java: I.java
class I {
	static void methodA(String s) {
		System.out.println(s);
	}
}
```

æ¬¡ã«å‘¼ã³å‡ºã™å´ã§ã™ã€‚ã“ã‚Œã‚‰ã®ã‚¯ãƒ©ã‚¹ã®é•ã„ã¯ã€ `methodA` ã®ç™»å ´å›æ•°ã§ã™ã€‚å‰è€…ã¯3å›ã€å¾Œè€…ã¯1å›ã®ã¿ã§ã™ã€‚

```Java: A.java
class A {
	static final String S = "methodA";

	public static void main(String[] args){
		I.methodA("methodA");
	}
}
```

```Java: B.java
class B {
	public static void main(String[] args){
		I.methodA("a");
	}
}
```

## ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã®ä¸­èº«

`A` ã¨ `B` ã‚¯ãƒ©ã‚¹ã®ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ `javap -verbose <className>.class` ã§ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ãŸçµæœã‚’ã€æŠœç²‹ã—ã¾ã™ã€‚

``` : A.class
  :
Constant pool:
    :
   #2 = String             #18            // methodA
   #3 = Methodref          #19.#20        // O.methodA:(Ljava/lang/String;)V
    :
  #18 = Utf8               methodA
  #19 = Class              #23            // O
  #20 = NameAndType        #18:#24        // methodA:(Ljava/lang/String;)V
    :
  #24 = Utf8               (Ljava/lang/String;)V
  :
```

``` : B.class
  :
   #3 = Methodref          #16.#17        // O.methodA:(Ljava/lang/String;)V
    :
  #16 = Class              #20            // O
  #17 = NameAndType        #21:#22        // methodA:(Ljava/lang/String;)V
    :
  #20 = Utf8               O
  #21 = Utf8               methodA
  #22 = Utf8               (Ljava/lang/String;)V
```

## æ¤œè¨¼

ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã«ã¤ã„ã¦ã€2ç‚¹ã«æ³¨ç›®ã—ã¾ã™ã€‚

1. ä¸¡ã‚¯ãƒ©ã‚¹ã¨ã‚‚ `methodA` ã¨ã„ã†æ–‡å­—åˆ—ã‚’1ç®‡æ‰€ã®ã¿ã§å®šç¾©ã—ã¦ã„ã‚‹
2. å‘¼ã³å‡ºã—å…ˆã® `NameAndType` ã®å‚ç…§å…ˆãŒã€æ¬¡ã®ã‚ˆã†ã«ç•°ãªã‚‹
   - Aã‚¯ãƒ©ã‚¹ã§ã¯ã€#18ã€#24ã¨é›¢ã‚Œã¦ã„ã‚‹
   - Bã‚¯ãƒ©ã‚¹ã§ã¯ã€#21ã€#22ã¨ãã£ã¤ã„ã¦ã„ã‚‹

`methodA` æ–‡å­—åˆ—ãŒ1ç®‡æ‰€ã®ã¿ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã®ã‚‚ã€å‘¼ã³å‡ºã—å…ˆã®ãƒ¡ã‚½ãƒƒãƒ‰æƒ…å ±ã‚’ã€Œãƒ¡ã‚½ãƒƒãƒ‰åã€ã¨ã€Œå¼•æ•°ãƒ»å¾©å¸°å€¤ã€ã®2ã¤ã«åˆ†ã‘ã‚‹ã®ã‚‚ã€ `Constant pool` ã®è³‡æºã‚’æœ€å°åŒ–ã™ã‚‹ãŸã‚ã§ã‚ã‚‹ã“ã¨ãŒä¼ºãˆã¾ã™ã€‚ãã‚ŒãŒJavaã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œæ™‚ã®Javaãƒ’ãƒ¼ãƒ—ã®ç¯€ç´„ã«ã¤ãªãŒã‚‹ã‚ã‘ã§ã™ã€‚

Java VM Language Specification ã§ Method Signature ã‹ã‚‰ãƒ¡ã‚½ãƒƒãƒ‰åã‚’é™¤å¤–ã—ã¦ã„ã‚‹ã“ã¨ã®åˆç†æ€§ã«åˆç‚¹ã§ãã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ
